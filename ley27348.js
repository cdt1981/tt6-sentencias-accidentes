    var indiceRIPTE = ["ENERO 2010", 344.73,
        "FEBRERO 2010", 355.54,
        "MARZO 2010", 369.56,
        "ABRIL 2010", 377.78,
        "MAYO 2010", 381.84,
        "JUNIO 2010", 388.62,
        "JULIO 2010", 398.37,
        "AGOSTO 2010", 408.08,
        "SEPTIEMBRE 2010", 425.11,
        "OCTUBRE 2010", 433.84,
        "NOVIEMBRE 2010", 439.23,
        "DICIEMBRE 2010", 444.13,
        "ENERO 2011", 449.82,
        "FEBRERO 2011", 459.18,
        "MARZO 2011", 490.31,
        "ABRIL 2011", 496.42,
        "MAYO 2011", 515.55,
        "JUNIO 2011", 522.98,
        "JULIO 2011", 539.38,
        "AGOSTO 2011", 557.23,
        "SEPTIEMBRE 2011", 575.47,
        "OCTUBRE 2011", 584.75,
        "NOVIEMBRE 2011", 599.28,
        "DICIEMBRE 2011", 603.55,
        "ENERO 2012", 611.61,
        "FEBRERO 2012", 628.82,
        "MARZO 2012", 652.87,
        "ABRIL 2012", 683.89,
        "MAYO 2012", 704.54,
        "JUNIO 2012", 707.89,
        "JULIO 2012", 733.06,
        "AGOSTO 2012", 739.38,
        "SEPTIEMBRE 2012", 751.84,
        "OCTUBRE 2012", 770.83,
        "NOVIEMBRE 2012", 789.52,
        "DICIEMBRE 2012", 798.50,
        "ENERO 2013", 807.41,
        "FEBRERO 2013", 834.43,
        "MARZO 2013", 856.21,
        "ABRIL 2013", 872.62,
        "MAYO 2013", 902.57,
        "JUNIO 2013", 912.82,
        "JULIO 2013", 934.63,
        "AGOSTO 2013", 943.67,
        "SEPTIEMBRE 2013", 964.67,
        "OCTUBRE 2013", 986.04,
        "NOVIEMBRE 2013", 990.63,
        "DICIEMBRE 2013", 999.43,
        "ENERO 2014", 1004.15,
        "FEBRERO 2014", 1057.21,
        "MARZO 2014", 1101.28,
        "ABRIL 2014", 1160.96,
        "MAYO 2014", 1176.75,
        "JUNIO 2014", 1188.08,
        "JULIO 2014", 1245.32,
        "AGOSTO 2014", 1251.18,
        "SEPTIEMBRE 2014", 1302.28,
        "OCTUBRE 2014", 1340.85,
        "NOVIEMBRE 2014", 1340.85,
        "DICIEMBRE 2014", 1366.32,
        "ENERO 2015", 1371.40,
        "FEBRERO 2015", 1418.58,
        "MARZO 2015", 1471.07,
        "ABRIL 2015", 1494.77,
        "MAYO 2015", 1549.59,
        "JUNIO 2015", 1612.17,
        "JULIO 2015", 1661.48,
        "AGOSTO 2015", 1668.64,
        "SEPTIEMBRE 2015", 1712.64,
        "OCTUBRE 2015", 1737.68,
        "NOVIEMBRE 2015", 1774.68,
        "DICIEMBRE 2015", 1806.09,
        "ENERO 2016", 1808.60,
        "FEBRERO 2016", 1888.34,
        "MARZO 2016", 1940.55,
        "ABRIL 2016", 2022.16,
        "MAYO 2016", 2062.33,
        "JUNIO 2016", 2089.18,
        "JULIO 2016", 2170.43,
        "AGOSTO 2016", 2196.53,
        "SEPTIEMBRE 2016", 2247.93,
        "OCTUBRE 2016", 2293.97,
        "NOVIEMBRE 2016", 2334.36,
        "DICIEMBRE 2016", 2364.94,
        "ENERO 2017", 2405.87,
        "FEBRERO 2017", 2455.57,
        "MARZO 2017", 2547.29,
        "ABRIL 2017", 2589.02,
        "MAYO 2017", 2632.39,
        "JUNIO 2017", 2682.68,
        "JULIO 2017", 2799.18,
        "AGOSTO 2017", 2823.33,
        "SEPTIEMBRE 2017", 2873.15,
        "OCTUBRE 2017", 2953.98,
        "NOVIEMBRE 2017", 2992.14,
        "DICIEMBRE 2017", 3006.32,
        "ENERO 2018", 3078.15,
        "FEBRERO 2018", 3136.49,
        "MARZO 2018", 3208.74,
        "ABRIL 2018", 3298.55,
        "MAYO 2018", 3353.50,
        "JUNIO 2018", 3383.14,
        "JULIO 2018", 3461.52,
        "AGOSTO 2018", 3540.95,
        "SEPTIEMBRE 2018", 3603.23,
        "OCTUBRE 2018", 3789.62,
        "NOVIEMBRE 2018", 3855.86,
        "DICIEMBRE 2018", 3925.11,
        "ENERO 2019", 4042.00,
        "FEBRERO 2019", 4198.76,
        "MARZO 2019", 4444.60,
        "ABRIL 2019", 4533.03,
        "MAYO 2019", 4676.25,
        "JUNIO 2019", 4753.19,
        "JULIO 2019", 4948.27,
        "AGOSTO 2019", 5039.93,
        "SEPTIEMBRE 2019", 5199.08,
        "OCTUBRE 2019", 5467.59,
        "NOVIEMBRE 2019", 5554.15,
        "DICIEMBRE 2019", 5666.48,
        "ENERO 2020", 6066.07,
        "FEBRERO 2020", 6445.13,
        "MARZO 2020", 6500.72,
        "ABRIL 2020", 6510.18,
        "MAYO 2020", 6521.87,
        "JUNIO 2020", 6670.93,
        "JULIO 2020", 6908.52,
        "AGOSTO 2020", 6945.86,
        "SEPTIEMBRE 2020", 7076.47,
        "OCTUBRE 2020", 7401.81,
        "NOVIEMBRE 2020", 7495.03,
        "DICIEMBRE 2020", 7643.41,
        "ENERO 2021", 7784.10,
        "FEBRERO 2021", 8263.33,
        "MARZO 2021", 8665.19,
        "ABRIL 2021", 9201.59,
        "MAYO 2021", 9311.61,
        "JUNIO 2021", 9660.13,
        "JULIO 2021", 10089.96,
        "AGOSTO 2021", 10326.11,
        "SEPTIEMBRE 2021", 10762.48,
        "OCTUBRE 2021", 11148.95,
        "NOVIEMBRE 2022", 11497.72,
        "DICIEMBRE 2022", 11726.30,
        "ENERO 2022", 12271.35,
        "FEBRERO 2022", 12849.20,
        "MARZO 2022", 13855.82,
        "ABRIL 2022", 14677.19,
        "MAYO 2022", 15270.36,
        "JUNIO 2022", 16149.76,
        "JULIO 2022", 17009.60,
        "AGOSTO 2022", 17786.79,
        "SEPTIEMBRE 2022", 18908.07,
        "OCTUBRE 2022", 19938.61,
        "NOVIEMBRE 2022", 21055.73,
        "DICIEMBRE 2022", 22194.74,
        "ENERO 2023", 23041.17,
    ]

    var cadena_fecha;
    var posicionAnterior;
    var posicion;
    var cadena_modificada;
    var cadena_final;
    var misMeses;
    var VIBM = new Object();
    VIBM.mes = "";
    VIBM.indice = "";
    VIBM.suma = "";
    VIBM.diasTrabajados = "";
    VIBM.ingresoBase = "";
    

    function convertToString() {
        var prueba = new Date(document.getElementById("fechaAccidente").valueAsNumber); //
        var options = {
            month: "long",
            year: "numeric"
        };
        cadena_fecha = prueba.toLocaleDateString("es-ES", options);
        cadena_modificada = cadena_fecha.replace(/ de /, " ");
        cadena_final = cadena_modificada.toUpperCase();
        VIBM.mes = cadena_final;
        return cadena_final;
    }

    function pasaMeses() {
        misMeses = document.querySelectorAll(".month_27348");
        posicion = indiceRIPTE.findIndex(x => x === cadena_final); //
        posicionAnterior = posicion - 24; //

        misMeses.forEach(function (element) {

            var valorMes = indiceRIPTE[posicionAnterior]; // 
            posicionAnterior = posicionAnterior + 2;

            element.innerHTML = valorMes;
        });
    }

    
    function pasaMeses27348_quincena() {
        var misMeses = document.querySelectorAll(".month_27348_quincenal");
        posicion = indiceRIPTE.findIndex(x => x === cadena_final); //
        posicionAnterior = posicion - 24; //

        misMeses.forEach(function (element) {

            var valorMes = indiceRIPTE[posicionAnterior]; // 
            posicionAnterior = posicionAnterior + 2;

            element.innerHTML = valorMes;
        });
    }

    var misFactor = document.getElementsByClassName("factor");

    function pasaIndices() {

        var misIndices = document.querySelectorAll(".indice_27348");
        posicion = indiceRIPTE.findIndex(x => x === cadena_final); //
        VIBM.indice = indiceRIPTE[posicion + 1];

        posicionAnterior = posicion - 23;

        misIndices.forEach(function (element) {
            var valorIndice = indiceRIPTE[posicionAnterior];
            posicionAnterior = posicionAnterior + 2;
            parseFloat(valorIndice);

            element.innerHTML = valorIndice.toFixed(2);
        });
        
        
        // var misFactor = document.getElementsByClassName("factor");
        var coeficiente_validacion;
        var a1;
        
        coeficiente_validacion = indiceRIPTE[posicion + 1];

        for (i = 0; i < 12; i++) {
            a1 = parseFloat(misIndices.item(i).innerHTML);
            var x = coeficiente_validacion / a1;
            misFactor.item(i).innerHTML = x.toFixed(3);
        }
        
        
        document.getElementById("mostrarIndiceMA").innerHTML = "El índice del mes del accidente (" + VIBM.mes + ") es de " + VIBM.indice;
    };

    function pasaIndices27348_quincena() {

        var misIndices27348_quincenal = document.querySelectorAll(".indice_27348_quincenal");
        posicion = indiceRIPTE.findIndex(x => x === cadena_final); //
        VIBM.indice = indiceRIPTE[posicion + 1];

        posicionAnterior = posicion - 23;

        misIndices27348_quincenal.forEach(function (element) {
            var valorIndice = indiceRIPTE[posicionAnterior];
            posicionAnterior = posicionAnterior + 2;
            parseFloat(valorIndice);

            element.innerHTML = valorIndice.toFixed(2);
        });

        var misFactor_quincenal = document.getElementsByClassName("factor_quincenal");
        var coeficiente_validacion;
        var a2;
        coeficiente_validacion = indiceRIPTE[posicion + 1];

        for (i = 0; i < 12; i++) {
            a2 = parseFloat(misIndices27348_quincenal.item(i).innerHTML);
            var x = coeficiente_validacion / a2;
            misFactor_quincenal.item(i).innerHTML = x.toFixed(3);
        }
        
        document.getElementById("mostrarIndiceMA_quincenal").innerHTML = "El índice del mes del accidente (" + VIBM.mes + ") es de " + VIBM.indice;

        
    };




    var misRem = document.getElementsByClassName("rem");
    var misResultados = document.getElementsByClassName("resultado");
    var resultadoArray = new Array();

    function pasaRemuneraciones() {
        var x;
        for (i = 0; i < 12; i++) {
            x = (parseFloat(misFactor.item(i).innerHTML) * parseFloat(misRem.item(i).value)).toFixed(2);
            misResultados.item(i).innerHTML = transformar(x);
        }
    }

    var result;
    var resultNumber;
    var miResultadoFinalArray = new Array();

    function sumaRemuneraciones() {
        var j = 0;
        for (i = 0; i < misResultados.length; i++) {
            result = misResultados.item(i).innerHTML;
            resultNumber = result.replace(/[^0-9\,]+/g, "");
            resultNumber = Number(resultNumber.replace(/\,/g, "."));
            miResultadoFinalArray.push(resultNumber);
        }
        const reducer = (acumulado, valoractual) => acumulado + valoractual;
        j = miResultadoFinalArray.reduce(reducer);

        document.getElementById("suma").innerHTML = "La suma de las remuneraciones arroja un total de " + transformar(j) + ".";
        $("#tr1").fadeIn(1500, "swing");

        var facc = document.getElementById("fechaAccidente").valueAsNumber;
        var fini = document.getElementById("fechaInicioRL").valueAsNumber;
        var dif = ((facc - fini) / 86400000);

        document.getElementById("divisor").innerHTML = "La cantidad de días en el período trabajado es de " + dif + " días.";
        $("#tr2").fadeIn(1500, "swing");

        var ibm = ((j / dif) * 30.4).toFixed(2);
        VIBM.ingresoBase = Number(ibm.replace(/\,/g, "."));

        document.getElementById("resultado_27348").innerHTML = "El VIBM es de " + transformar(VIBM.ingresoBase) + ".";
        $("#tr3").fadeIn(1500, "swing");

        document.getElementById("vibm").value = VIBM.ingresoBase;
        $("#btnCalcular").attr("disabled", "true");
    }

    var element;

    function ibmPierdeFoco(element) {
        element = document.getElementById("vibm").value;
        var a1 = element.replace(/[^0-9\,]+/g, "");
        VIBM.ingresoBase = Number(a1.replace(/\,/g, "."));
        transformar(element);
    }

    function muestra27348() {
        convertToString();
        pasaMeses();
        pasaIndices();
    }; // fin funcion muestra27348

    function sumarQuincenas(){
        var num1 = document.querySelectorAll(".quincena_uno");
        var num2 = document.querySelectorAll(".quincena_dos");
        var fac = document.querySelectorAll(".factor_quincenal");
        var resultado = document.querySelectorAll(".resultado_quincenal");
        var suma = document.querySelectorAll(".sumatoria");
        
        for(i=0; i<resultado.length; i++){

            suma.item(i).innerHTML = (parseFloat(num1.item(i).value) + parseFloat(num2.item(i).value)).toFixed(2);
            resultado.item(i).innerHTML = (parseFloat(suma.item(i).textContent) * parseFloat(fac.item(i).textContent)).toFixed(2);
        }
    }

    

    function sumaRemuneraciones_quincena() {
        var resultadoFinalArray_quincena = new Array();
        var resultado = document.querySelectorAll(".resultado_quincenal");
        var j = 0;
        for (i = 0; i < resultado.length; i++) {
            result = resultado.item(i).innerHTML;
            
            // resultNumber = resultado.replace(/[^0-9\,]+/g, "");
            resultNumber = Number(result.replace(/\,/g, "."));
            resultadoFinalArray_quincena.push(resultNumber);
        }
        const reducer = (acumulado, valoractual) => acumulado + valoractual;
        j = resultadoFinalArray_quincena.reduce(reducer);

        document.getElementById("suma_quincenal").innerHTML = "La suma de las remuneraciones arroja un total de " + transformar(j) + ".";
        $("#tr21").fadeIn(1500, "swing");

        var facc = document.getElementById("fechaAccidente").valueAsNumber;
        var fini = document.getElementById("fechaInicioRL").valueAsNumber;
        var dif = ((facc - fini) / 86400000);

        document.getElementById("divisor_quincenal").innerHTML = "La cantidad de días en el período trabajado es de " + dif + " días.";
        $("#tr22").fadeIn(1500, "swing");

        var ibm = ((j / dif) * 30.4).toFixed(2);
        VIBM.ingresoBase = Number(ibm.replace(/\,/g, "."));

        document.getElementById("resultado_27348_quincenal").innerHTML = "El VIBM es de " + transformar(VIBM.ingresoBase) + ".";
        $("#tr23").fadeIn(1500, "swing");

        document.getElementById("vibm").value = VIBM.ingresoBase;
        $("#btnCalcular").attr("disabled", "true");
    } 

    $(document).ready(function () {
        $("#conRipte").click(muestra27348);
        $(".rem").on("blur", pasaRemuneraciones);
        $("#btnCalcular").click(sumaRemuneraciones);
        $("#btnCalcular_quincena").click(sumaRemuneraciones_quincena);
        $(".rem").focus(function () {
            this.select();
        })
        $("#vibm").on("change", ibmPierdeFoco());

        $("#conRipte_quincenal").on("click", function (){
                    
                            convertToString();
                            pasaMeses27348_quincena();
                            pasaIndices27348_quincena();
                    
                            // $("#conRipte").attr("data-target", "#modal27348");
                            // muestra27348();
                    
                });
        $(".quincena_uno, .quincena_dos").focus(function () { this.select()});
        $(".quincena_dos").blur(sumarQuincenas);
        
    });